{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\Ben\\\\Documents\\\\React Projects\\\\workout-tracker\\\\frontend\\\\src\\\\components\\\\Register\\\\RegistrationForm.js\",\n  _s = $RefreshSig$();\nimport { useState } from 'react';\nimport { useNavigate } from 'react-router-dom';\nimport { useUserContext } from '../../hooks/UserContext';\nimport { registerUser } from '../../api/api';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nexport default function RegistrationForm() {\n  _s();\n  const [formData, setFormData] = useState({\n    email: '',\n    name: '',\n    password: '',\n    reEnteredPassword: ''\n  });\n  const [error, setError] = useState('');\n  const [loading, setLoading] = useState(false);\n  const navigate = useNavigate();\n  const {\n    setUser\n  } = useUserContext();\n  const handleChange = e => {\n    switch (e.target.name) {\n      case 'email':\n        setFormData(prev => ({\n          ...prev,\n          email: e.target.value\n        }));\n        break;\n      case 'name':\n        setFormData(prev => ({\n          ...prev,\n          name: e.target.value\n        }));\n        break;\n      case 'password':\n        setFormData(prev => ({\n          ...prev,\n          password: e.target.value\n        }));\n        break;\n      case 'reEnteredPassword':\n        setFormData(prev => ({\n          ...prev,\n          reEnteredPassword: e.target.value\n        }));\n        break;\n      default:\n        break;\n    }\n  };\n  const handleSubmit = async e => {\n    e.preventDefault();\n    if (formData.password !== formData.reEnteredPassword) {\n      setError('Passwords must match');\n      return;\n    }\n    setLoading(true);\n    const user = await registerUser(formData.name, formData.email, formData.password);\n    setLoading(false);\n\n    // errors with submitted data\n    if ((user === null || user === void 0 ? void 0 : user.message) === 'user already registered with this email') {\n      setError('User already registered with this email');\n      return;\n    }\n    if ((user === null || user === void 0 ? void 0 : user.error) === 'invalid email') {\n      setError('You must enter a valid email');\n      return;\n    }\n    if ((user === null || user === void 0 ? void 0 : user.error) === 'invalid name') {\n      setError('You must enter a valid name');\n      return;\n    }\n    if ((user === null || user === void 0 ? void 0 : user.error) === 'invalid password') {\n      setError('You must enter a valid password');\n      return;\n    }\n    if (user) {\n      setUser({\n        id: user.id,\n        name: user.name\n      });\n      navigate('/');\n    } else {\n      setError('Server error - registration failed');\n    }\n  };\n  return /*#__PURE__*/_jsxDEV(\"form\", {\n    className: \"form\",\n    onSubmit: handleSubmit,\n    children: [/*#__PURE__*/_jsxDEV(\"input\", {\n      type: \"email\",\n      name: \"email\",\n      onChange: handleChange,\n      placeholder: \"Email address\",\n      \"aria-label\": \"Email address\",\n      required: true\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 81,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n      type: \"name\",\n      name: \"name\",\n      onChange: handleChange,\n      placeholder: \"Name\",\n      \"aria-label\": \"Name\",\n      required: true\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 89,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n      type: \"password\",\n      name: \"password\",\n      onChange: handleChange,\n      placeholder: \"Password\",\n      \"aria-label\": \"Password\",\n      required: true\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 97,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n      type: \"password\",\n      name: \"reEnteredPassword\",\n      onChange: handleChange,\n      placeholder: \"Re-enter password\",\n      \"aria-label\": \"Re-enter password\",\n      required: true\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 105,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n      type: \"submit\",\n      disabled: loading,\n      children: \"Register\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 113,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n      className: error ? 'error' : 'hidden',\n      children: error\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 114,\n      columnNumber: 13\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 80,\n    columnNumber: 9\n  }, this);\n}\n_s(RegistrationForm, \"YIIQuWwuoTVr6NwsREgCe/LTL3c=\", false, function () {\n  return [useNavigate, useUserContext];\n});\n_c = RegistrationForm;\nvar _c;\n$RefreshReg$(_c, \"RegistrationForm\");","map":{"version":3,"names":["useState","useNavigate","useUserContext","registerUser","jsxDEV","_jsxDEV","RegistrationForm","_s","formData","setFormData","email","name","password","reEnteredPassword","error","setError","loading","setLoading","navigate","setUser","handleChange","e","target","prev","value","handleSubmit","preventDefault","user","message","id","className","onSubmit","children","type","onChange","placeholder","required","fileName","_jsxFileName","lineNumber","columnNumber","disabled","_c","$RefreshReg$"],"sources":["C:/Users/Ben/Documents/React Projects/workout-tracker/frontend/src/components/Register/RegistrationForm.js"],"sourcesContent":["import { useState } from 'react';\r\nimport { useNavigate } from 'react-router-dom';\r\nimport { useUserContext } from '../../hooks/UserContext';\r\nimport { registerUser } from '../../api/api';\r\n\r\nexport default function RegistrationForm() {\r\n    const [formData, setFormData] = useState({\r\n        email: '',\r\n        name: '',\r\n        password: '',\r\n        reEnteredPassword: ''\r\n    });\r\n    const [error, setError] = useState('');\r\n    const [loading, setLoading] = useState(false);\r\n    const navigate = useNavigate();\r\n    const { setUser } = useUserContext();\r\n\r\n    const handleChange = e => {\r\n        switch (e.target.name) {\r\n            case 'email':\r\n                setFormData(prev => ({...prev, email: e.target.value}));\r\n                break;\r\n            case 'name':\r\n                setFormData(prev => ({...prev, name: e.target.value}));\r\n                break;\r\n            case 'password':\r\n                setFormData(prev => ({...prev, password: e.target.value}));\r\n                break;\r\n            case 'reEnteredPassword':\r\n                setFormData(prev => ({...prev, reEnteredPassword: e.target.value}));\r\n                break;\r\n            default:\r\n                break;\r\n        }\r\n    };\r\n\r\n    const handleSubmit = async e => {\r\n        e.preventDefault();\r\n\r\n        if (formData.password !== formData.reEnteredPassword) {\r\n            setError('Passwords must match');\r\n            return;\r\n        }\r\n        setLoading(true);\r\n        const user = await registerUser(formData.name, formData.email, formData.password);\r\n        setLoading(false);\r\n\r\n        // errors with submitted data\r\n        if (user?.message === 'user already registered with this email') {\r\n            setError('User already registered with this email');\r\n            return;\r\n        }\r\n        if (user?.error === 'invalid email') {\r\n            setError('You must enter a valid email');\r\n            return;\r\n        }\r\n\r\n        if (user?.error === 'invalid name') {\r\n            setError('You must enter a valid name');\r\n            return;\r\n        }\r\n\r\n        if (user?.error === 'invalid password') {\r\n            setError('You must enter a valid password');\r\n            return;\r\n        }\r\n\r\n        if (user) {\r\n            setUser({\r\n                id: user.id,\r\n                name: user.name\r\n            });\r\n            navigate('/');\r\n        } else {\r\n            setError('Server error - registration failed');\r\n        }\r\n    };\r\n\r\n    return (\r\n        <form className=\"form\" onSubmit={handleSubmit}>\r\n            <input\r\n                type=\"email\" \r\n                name=\"email\" \r\n                onChange={handleChange} \r\n                placeholder=\"Email address\" \r\n                aria-label=\"Email address\"\r\n                required \r\n            />\r\n            <input\r\n                type=\"name\" \r\n                name=\"name\" \r\n                onChange={handleChange} \r\n                placeholder=\"Name\"\r\n                aria-label=\"Name\" \r\n                required \r\n            />\r\n            <input\r\n                type=\"password\" \r\n                name=\"password\" \r\n                onChange={handleChange} \r\n                placeholder=\"Password\"\r\n                aria-label=\"Password\" \r\n                required \r\n                />\r\n            <input \r\n                type=\"password\" \r\n                name=\"reEnteredPassword\" \r\n                onChange={handleChange} \r\n                placeholder=\"Re-enter password\" \r\n                aria-label=\"Re-enter password\"\r\n                required \r\n                />\r\n            <button type=\"submit\" disabled={loading}>Register</button>   \r\n            <p className={error ? 'error' : 'hidden'}>{error}</p>\r\n        </form>\r\n    );\r\n}"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}